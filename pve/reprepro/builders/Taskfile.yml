---
version: '3'

includes:
  # Register your projects here
  restic: ./projects/restic/Taskfile.yml
  fd: ./projects/fd/Taskfile.yml
  bat: ./projects/bat/Taskfile.yml
  eget: ./projects/eget/Taskfile.yml
  sops: ./projects/sops/Taskfile.yml
  ubi: ./projects/ubi/Taskfile.yml
  fresh: ./projects/fresh/Taskfile.yml
  yazi: ./projects/yazi/Taskfile.yml

tasks:
  default:
    desc: List available tasks
    cmds:
      - task -l
    silent: true

  build-all:
    desc: Build DEBS for ALL projects
    cmds:
      - task: restic:build
      - task: fd:build
      - task: bat:build
      - task: eget:build
      - task: sops:build
      - task: ubi:build
      - task: fresh:build
      - task: yazi:build
      - echo "ðŸš€ All builds complete! Check dist/ folder."

  clean-all:
    desc: Nuke all build artifacts and caches
    cmds:
      - rm -rf build/ dist/ .cache/
      - echo "âœ¨ Cleaned up workspace."
